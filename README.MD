# bitrise-step-slack

A next-gen Slack webhook step for Bitrise.

## Usage

### bitrise.yml

To use this step in your Bitrise workflow, prefix the step name with a Git URL of this repository:


```yml
steps:
  - git::git@github.com:netguru/bitrise-step-slack.git:
      title: slack
      inputs:
        - webhook_url: https://team.slack.com/...
        - channel: "#general"
```

### bitrise.io

As bitrise.io doesn't allow to add a custom step using the UI Workflow Editor, use the YAML editor to manually add the step to the workflow. Follow the guide above.

Also, as long as this step is private, and until Bitrise.io introduces support for multiple SSH keys, you need to replace the auto-generated Deploy Key with your own SSH Key. To do this, go to the _Bitrise App → Settings → SSH Settings_ and change the SSH keypair by clicking _Generate SSH keypair_. Then go to your _GitHub Profile Settings → SSH keys_ and add a new key by pasting the public key generated by Bitrise in the previous step.

## Development

### Requirements

This step requires the following pre-installed dependencies:

- [Ruby](https://rvm.io) >= 2.2

### Configuration

The step reads its configuration from environment. Since it uses `dotenv`, you can configure your step by duplicating `.env.default` file into a `.env` file and edit the values in there.

Keep in mind that `.env` file is ignored by Git, so you can put sensitive information (such as webhook URL) in there. It will not be committed.

### Running

Run your step by executing `step.sh` file:

```bash
$ ./step.sh
```

### Dependencies

The dependencies are installed automatically when you run `step.sh`.

### Committing

This repository uses git-flow and protects `develop` and `master` branches from force pushes, which means the whole development process is pull-request-driven.

The standard code review procedures are in place as well (although perhaps they should be done by Ruby developers).

## About

This project is made with <3 by [Netguru](https://netguru.co/opensource).

### License

Licensed under the MIT License. See [LICENSE.MD](LICENSE.MD) for more info.
